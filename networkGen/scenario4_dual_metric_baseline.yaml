# Phase 1 Test 4: Dual Metric Baseline
# Baseline validation with version split
# Expected: Natural forks detected and analyzed, baseline established

network_parameters:
  num_nodes: 5
  topology_type: scale_free
  seed: 504
  topology_params:
    m: 3

version_configuration:
  distribution:
    '26.0': 0.2   # 1 node - Chain A
    '27.0': 0.8   # 4 nodes - Chain B (majority)
  clustering_factor: 0.7  # Moderate clustering

node_configurations:
  maxconnections:
    distribution:
      125: 0.6
      500: 0.2
      1000: 0.2

  maxmempool:
    distribution:
      300: 0.4
      2000: 0.4
      5000: 0.2

  rpcthreads:
    distribution:
      16: 0.8
      32: 0.2

  txindex:
    distribution:
      1: 1.0

economic_metadata:
  role:
    distribution:
      major_exchange: 0.2          # 1 node - Major exchange
      regional_exchange: 0.2       # 1 node - Regional exchange
      payment_processor: 0.4       # 2 nodes - Payment processors
      custody_provider: 0.2        # 1 node - Custody provider

  custody_btc:
    major_exchange: [1800000, 2200000]      # Very high custody
    regional_exchange: [400000, 600000]     # Medium-high custody
    payment_processor: [50000, 100000]      # Low custody
    custody_provider: [600000, 800000]      # High custody, low volume

  daily_volume_btc:
    major_exchange: [80000, 120000]         # High volume
    regional_exchange: [25000, 35000]       # Medium volume
    payment_processor: [150000, 200000]     # Very high volume
    custody_provider: [2000, 5000]          # Very low volume

warnet_settings:
  caddy_enabled: true
  fork_observer:
    enabled: true
    interval: 10

output:
  file: dual-metric-test-network.yaml
  name_prefix: node
