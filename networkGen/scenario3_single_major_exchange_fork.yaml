# Phase 1 Test 3: Single Major Exchange Fork
# One major exchange isolated (v26) vs network majority (v27)
# Expected: Chain B wins - network effect isolates single player

network_parameters:
  num_nodes: 4
  topology_type: hub_spoke
  seed: 503
  topology_params:
    hub_ratio: 0.25  # 1 hub (Coinbase isolated)
    hub_connections: [0, 0]  # Hub isolated initially
    spoke_connections: [2, 3]  # Spokes connect to each other

version_configuration:
  distribution:
    '26.0': 0.25  # 1 node - Chain A (Coinbase isolated)
    '27.0': 0.75  # 3 nodes - Chain B (network majority)
  clustering_factor: 1.0  # Complete separation

node_configurations:
  maxconnections:
    distribution:
      1000: 0.5  # Major exchanges
      125: 0.5

  maxmempool:
    distribution:
      5000: 0.5  # Major exchanges
      300: 0.5

  rpcthreads:
    distribution:
      16: 0.5
      32: 0.5  # Major exchanges

  txindex:
    distribution:
      1: 1.0

economic_metadata:
  role:
    distribution:
      major_exchange: 0.25         # 1 node - Coinbase-scale isolated
      regional_exchange: 0.25      # 1 node - Medium exchange
      payment_processor: 0.50      # 2 nodes - Network majority

  custody_btc:
    major_exchange: [2000000, 2500000]      # Very high custody (2M-2.5M BTC)
    regional_exchange: [400000, 600000]     # Medium custody (400K-600K BTC)
    payment_processor: [50000, 100000]      # Low custody (50K-100K BTC)

  daily_volume_btc:
    major_exchange: [80000, 120000]         # High volume (80K-120K BTC/day)
    regional_exchange: [25000, 35000]       # Medium volume (25K-35K BTC/day)
    payment_processor: [150000, 200000]     # Very high volume (150K-200K BTC/day)

warnet_settings:
  caddy_enabled: true
  fork_observer:
    enabled: true
    interval: 10

output:
  file: single-major-exchange-fork-network.yaml
  name_prefix: node
